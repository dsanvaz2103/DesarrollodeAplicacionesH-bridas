<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ folder | titlecase }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  
  <ion-header collapse="condense">
    <ion-toolbar color="primary">
      <ion-title size="large">{{ folder | titlecase }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ng-container [ngSwitch]="folder">

    <ng-container *ngSwitchCase="'inicio'">
      <div class="ion-text-center ion-padding">
        <ion-img src="assets/img/Cabecera.jpg" style="border-radius: 15px; overflow: hidden;"></ion-img>
        
        <h1 style="color: var(--ion-color-primary)">¬°Hola, {{ username || 'Skater' }}! üõπ</h1>
        <p>Bienvenido a tu Urban Skateshop. Aqu√≠ encontrar√°s todo lo necesario para patinar.</p>
        
        <ion-button expand="block" shape="round" routerLink="/folder/productos">
          Explorar Tienda
        </ion-button>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="'productos'">
      <ion-list-header>
        <ion-label>Nuestras Tablas y Accesorios</ion-label>
      </ion-list-header>

      <div *ngIf="cargandoProductos">
        <ion-item *ngFor="let s of skeletons">
          <ion-thumbnail slot="start">
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-thumbnail>
          <ion-label>
            <h3><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></h3>
            <p><ion-skeleton-text animated style="width: 80%"></ion-skeleton-text></p>
          </ion-label>
        </ion-item>
      </div>

      <div *ngIf="!cargandoProductos" #productGrid>
        <ion-item *ngFor="let producto of listaDeProductos" lines="inset" class="ion-margin-vertical">
          <ion-thumbnail slot="start">
            <img [src]="producto.imgUrl" />
          </ion-thumbnail>
          <ion-label>
            <h2>{{ producto.titulo }}</h2>
            <p>{{ producto.descripcion }}</p>
          </ion-label>
          <ion-button fill="clear" (click)="agregarAlCarrito(producto)">
            <ion-icon name="cart-outline" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-item>
      </div>

      <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="abrirModalAgregar()">
          <ion-icon name="add"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    </ng-container>

    <ng-container *ngSwitchCase="'configuracion'">
      <ion-list>
        <ion-list-header>
          <ion-label>Ajustes de Perfil</ion-label>
        </ion-list-header>

        <ion-item class="ion-margin-top">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-label position="stacked">Tu nombre de usuario</ion-label>
          <ion-input 
            [value]="username" 
            (ionInput)="saveUsername($any($event.target).value || '')" 
            placeholder="Escribe tu nombre">
          </ion-input>
        </ion-item>

        <ion-item class="ion-margin-top">
          <ion-icon name="moon-outline" slot="start"></ion-icon>
          <ion-label>Modo Nocturno</ion-label>
          <ion-toggle 
            [checked]="isDarkMode" 
            (ionChange)="toggleDarkMode()">
          </ion-toggle>
        </ion-item>
      </ion-list>

      <div class="ion-padding ion-text-center">
        <ion-note>
          Estos cambios se almacenan localmente y persistir√°n incluso si cierras el navegador.
        </ion-note>
      </div>
    </ng-container>

    <ng-container *ngSwitchDefault>
      <div class="ion-text-center ion-padding">
        <ion-icon name="construct-outline" style="font-size: 48px;"></ion-icon>
        <h3>Secci√≥n en desarrollo</h3>
        <p>Pronto tendremos novedades en la secci√≥n de {{ folder }}.</p>
      </div>
    </ng-container>

  </ng-container>
</ion-content>